(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2244c3"],{e013:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[a.hasHardware?t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:a.tableData,border:"","empty-text":"No hardware in your family"}},[t("el-table-column",{attrs:{prop:"hardwareID",label:"hardware ID"}}),t("el-table-column",{attrs:{prop:"name",label:"name"}}),t("el-table-column",{attrs:{prop:"manufactureName",label:"manufacturer"}}),t("el-table-column",{attrs:{prop:"operation",fixed:"right",label:"",width:"90"}},[t("el-popover",{attrs:{placement:"right",trigger:"click"}},[t("div",{attrs:{id:"chart"}}),t("el-button",{attrs:{slot:"reference",type:"text"},on:{click:function(e){return a.draw()}},slot:"reference"},[a._v("History")])],1)],1)],1):a._e(),t("br"),a.needBind?t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("h3",[a._v("BIND NEW HARDWARE HERE:")])]),t("div",[t("el-form",{ref:"bindForm",staticClass:"demo-ruleForm",attrs:{model:a.bindForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"Hardware ID",prop:"hardwareID",required:""}},[t("el-input",{model:{value:a.bindForm.hardwareID,callback:function(e){a.$set(a.bindForm,"hardwareID",e)},expression:"bindForm.hardwareID"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(e){return a.submitBindForm("bindForm")}}},[a._v("Bind")])],1)],1)],1)]):a._e(),t("div",{attrs:{id:"chart1"}},[a._v("222")])],1)},s=[],o=t("313e"),n={name:"Console",data:function(){return{tableData:[],hasHardware:!1,needBind:!1,tableLoading:!0,bindForm:{hardwareID:""}}},mounted:function(){this.getHardwareInfo()},methods:{draw:function(){var a,e=document.getElementById("chart1"),t=o["init"](e);a={xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:"line"}]},a&&t.setOption(a)},tableRowClassName:function(a){return"2"===a.data?"warning-row":"0"===a.data?"success-row":""},formatData:function(a){var e=a.data;switch(e){case"0":e="closed";break;case"1":e="open";break;case"2":e="alert";break}return e},getHardwareInfo:function(){var a=this;setTimeout((function(){a.tableLoading=!1}),2e3),this.$axios.get("/components/console").then((function(e){console.log(e),"NoFamily"===e.data.data.hasHardware?(a.hasHardware=!1,a.$message({showClose:!0,message:"You are not a family member! Please go to the family page",type:"error"})):"false"===e.data.data.hasHardware?(a.hasHardware=!1,a.needBind=!0,a.$message({showClose:!0,message:"Your family does not have a hardware, please bind one!",type:"warning"})):"true"===e.data.data.hasHardware&&(a.hasHardware=!0,a.needBind=!0),a.tableData=e.data.data.abs})).catch((function(a){console.log(a)}))},submitBindForm:function(a){var e=this;this.$refs[a].validate((function(a){a&&e.$axios.post("/hard/add",{hardwareID:e.bindForm.hardwareID}).then((function(a){"Success"===a.data.data.state?(e.$message({showClose:!0,message:"Bind successfully!",type:"success"}),setTimeout((function(){e.$router.go(0)}),2e3)):"Failed"===a.data.data.state?e.$message({showClose:!0,message:"Bind failed!",type:"error"}):"NoSuchHardID"===a.data.data.state?e.$message({showClose:!0,message:"This hardware ID does not exist!",type:"error"}):"hasOwner"===a.data.data.state&&e.$message({showClose:!0,message:"This hardware is already bound to a family!",type:"error"}),console.log(a)}))}))}}},d=n,i=t("2877"),l=Object(i["a"])(d,r,s,!1,null,null,null);e["default"]=l.exports}}]);